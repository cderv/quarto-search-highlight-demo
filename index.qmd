---
title: "Search Highlight Demo"
---

## About This Demo

This site demonstrates the search highlight fix from [quarto-dev/quarto-cli#14047](https://github.com/quarto-dev/quarto-cli/issues/14047). When you navigate to a page with a `?q=term` parameter in the URL, matching terms are highlighted with a yellow background. This is the same mechanism used when you click a search result in the Quarto search box.

## How to Test

### Direct URL highlighting (`?q=`)

Try these links to see search highlighting in action:

- [Pandas page with "data" highlighted](pandas.html?q=data)
- [Visualization page with "chart" highlighted](visualization.html?q=chart)
- [Modeling page with "regression" highlighted](modeling.html?q=regression)

These use the `?q=term` URL parameter, which triggers JavaScript-based `<mark>` highlighting on the destination page. The highlights clear when you scroll enough to change the active section — this is by design.

### Through the search box

1. Click the search icon in the navbar (or press `S`)
2. Type a term like "regression"
3. Click on one of the search results

The destination page should scroll to the matching content with two complementary highlight mechanisms:

- **JS `<mark>` highlights** (from `?q=` parameter) — yellow background on matching terms, cleared on scroll ([PR #14049](https://github.com/quarto-dev/quarto-cli/pull/14049))
- **Browser text fragments** (from `#:~:text=` in the URL) — browser-native highlighting that scrolls to and highlights the matched text ([PR #14003](https://github.com/quarto-dev/quarto-cli/pull/14003))

The two mechanisms work together. Text fragments provide a browser-native fallback that persists independently of the JavaScript highlights.

## The Bug

In previous versions of Quarto, search highlights were cleared almost immediately after page load. Layout-settling events (`quarto-hrChanged` and `quarto-sectionChanged`) fired within the first ~24ms and triggered a `defined(defined())` call chain that wiped the `<mark>` elements before users could see them.

## The Fix

The fix delays the registration of highlight-clearing event listeners by 1000ms, giving the initial layout events time to settle before the listeners become active. This ensures that search highlights remain visible when navigating from search results.

See [PR #14049](https://github.com/quarto-dev/quarto-cli/pull/14049) for the implementation details.

## Content for Searching

This site includes several pages with data science content to provide realistic search targets. Each page covers a different topic — data manipulation with pandas, data visualization, and statistical modeling — with enough prose to exercise the search and highlight functionality across multiple pages.
